{"version":3,"sources":["components/Forms/Form.js","components/Widgets/WindowElem.js","components/Widgets/RemoveItem.js","App.js","index.js"],"names":["Form","state","title","desc","product","agreed","size","prodIdTitle","uuid","prodIdDesc","prodIdAgreed","prodIdSize","handleChangeAllInputs","e","target","name","type","checked","value","setState","handleSubmit","id","description","props","addNewProduct","resetForm","handleBtnCheck","preventDefault","this","onSubmit","htmlFor","onChange","disabled","onClick","Component","GadgetWindow","unitRef","isOpen","toggleState","keydownHandler","handleClick","textObj","content","backBtn","deleteBtn","flipId","ref","tabIndex","undefined","role","className","onKeyDown","defaultProps","DeleteButton","createRef","prev","current","focus","event","key","flipKey","spring","stagger","text","App","allProducts","deleteProduct","productId","console","log","prevState","filter","localProducts","localStorage","getItem","parsedProducts","JSON","parse","prevProps","setItem","stringify","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8f93ceab.chunk.js","sourcesContent":["import { Component } from \"react\";\nimport { v4 as uuid } from \"uuid\";\n\nexport class Form extends Component {\n  state = {\n    title: \"\",\n    desc: \"\",\n    product: null,\n    agreed: false,\n    size: \"\",\n  };\n\n  prodIdTitle = uuid();\n  prodIdDesc = uuid();\n  prodIdAgreed = uuid();\n  prodIdSize = uuid();\n\n  //   handleChange = (e) => {\n  //     // console.log(e.target.value);\n  //     // console.log(e.target.name);\n  //     this.setState({ [e.target.name]: e.target.value });\n  //   };\n\n  //   handleCheck = (e) => {\n  //     const { agreed } = this.state;\n  //     this.setState({ agreed: !agreed });\n  //   };\n\n  handleChangeAllInputs = (e) => {\n    const { name, type, checked, value } = e.target;\n    this.setState({ [name]: type === \"checkbox\" ? checked : value });\n  };\n\n  handleSubmit = (e) => {\n    const { title, desc, size } = this.state;\n    const product = {\n      id: uuid(),\n      title,\n      description: desc,\n      size,\n    };\n    this.setState({ product });\n    this.props.addNewProduct(product); //Метод из App\n    this.resetForm();\n  };\n\n  resetForm = () => {\n    this.setState({ title: \"\", desc: \"\", size: \"\", agreed: false }); //можно и просто ...this.state, но у меня проверка кнопки\n  };\n\n  handleBtnCheck = (e) => {\n    e.preventDefault();\n    const { title, desc, size } = this.state;\n    if (title === \"\" || desc === \"\" || size === \"\") {\n      return;\n    }\n    this.handleSubmit();\n  };\n  render() {\n    const {\n      // handleChange,\n      // handleCheck,\n      handleChangeAllInputs,\n      handleSubmit,\n      handleBtnCheck,\n      prodIdTitle,\n      prodIdDesc,\n      prodIdAgreed,\n      prodIdSize,\n    } = this;\n    const { title, desc, agreed, size } = this.state;\n    return (\n      <form onSubmit={handleSubmit}>\n        <label htmlFor={prodIdTitle}>Title</label>\n        <input\n          id={prodIdTitle}\n          type=\"text\"\n          name=\"title\"\n          value={title}\n          onChange={handleChangeAllInputs}\n        />\n        <label htmlFor={prodIdDesc}>Description</label>\n        <input\n          id={prodIdDesc}\n          type=\"text\"\n          name=\"desc\"\n          value={desc}\n          onChange={handleChangeAllInputs}\n        />\n        <br />\n        <label htmlFor={prodIdSize}>Choose your size</label>\n        <select\n          id={prodIdSize}\n          name=\"size\"\n          value={size}\n          onChange={handleChangeAllInputs}\n        >\n          <option value=\"\" disabled>\n            ...\n          </option>\n          <option value=\"s\">S</option>\n          <option value=\"m\">M</option>\n          <option value=\"l\">L</option>\n          <option value=\"xl\">XL</option>\n        </select>\n        <br />\n        <label htmlFor={prodIdAgreed}>do you agree?</label>\n        <input\n          id={prodIdAgreed}\n          type=\"checkbox\"\n          name=\"agreed\"\n          checked={agreed}\n          onChange={handleChangeAllInputs}\n        />\n        <br />\n        <button onClick={handleBtnCheck} type=\"submit\" disabled={!agreed}>\n          add\n        </button>\n      </form>\n    );\n  }\n}\n","import { Flipped } from 'react-flip-toolkit';\r\nimport PropTypes from 'prop-types';\r\nexport function GadgetWindow({\r\n  unitRef,\r\n  isOpen,\r\n  toggleState,\r\n  keydownHandler,\r\n  handleClick,\r\n  textObj: { title, content, backBtn, deleteBtn },\r\n}) {\r\n  return (\r\n    <Flipped flipId=\"wrapper\">\r\n      <div\r\n        ref={unitRef}\r\n        // в тернарном операторе false заменен на undefined\r\n        tabIndex={isOpen ? undefined : 0}\r\n        role=\"dialog\"\r\n        className={`dialog animated-in`}\r\n        onClick={toggleState}\r\n        onKeyDown={keydownHandler}\r\n      >\r\n        <p className=\"title content\">{title}</p>\r\n        <p className=\"content\">{content}</p>\r\n        <button className=\"button secondary content\" onClick={handleClick}>\r\n          {backBtn}\r\n        </button>\r\n        <button className=\"button primary content\" onClick={handleClick}>\r\n          {deleteBtn}\r\n        </button>\r\n      </div>\r\n    </Flipped>\r\n  );\r\n}\r\n\r\nGadgetWindow.defaultProps = {\r\n  textObj: {\r\n    title: 'Delete this item?',\r\n    content:\r\n      'This operation will permenantly delete this item and all its dependencies. This actioncannot be undone',\r\n    backBtn: 'Oh no, bring me back',\r\n    deleteBtn: 'I understand, delete it',\r\n  },\r\n};\r\nGadgetWindow.propTypes = {\r\n  ref: PropTypes.any,\r\n  isOpen: PropTypes.bool,\r\n  toggleState: PropTypes.func,\r\n  keydownHandler: PropTypes.func,\r\n  handleClick: PropTypes.func,\r\n  textObj: PropTypes.shape({\r\n    title: PropTypes.string,\r\n    content: PropTypes.string,\r\n    backBtn: PropTypes.string,\r\n    deleteBtn: PropTypes.string,\r\n  }),\r\n};\r\n","import { Component, createRef } from 'react';\r\nimport { Flipper, Flipped } from 'react-flip-toolkit';\r\nimport './RemoveItem.scss';\r\nimport { GadgetWindow } from './WindowElem';\r\n\r\nexport class DeleteButton extends Component {\r\n  state = {\r\n    isOpen: this.props.isOpen,\r\n  };\r\n  // получаем доступ к текущему элементу через createRef()\r\n  ref = createRef();\r\n\r\n  // создаем метод изменения свойства видимости в стейте\r\n  toggleState = () => {\r\n    //  если текущее значение true выходим из метода\r\n    if (this.state.isOpen) return;\r\n    // изменяем стейт от предыдущего состояния\r\n    this.setState(prev => ({\r\n      isOpen: !prev.isOpen,\r\n    }));\r\n    // фокусируемся на текущем элементе\r\n    this.ref.current.focus();\r\n  };\r\n\r\n  keydownHandler = event => {\r\n    // при фокусе табом на кнопках виджета\r\n    // закрывает виджет по нажатию на 'Enter' || 'Escape'\r\n    if (event.key === 'Enter' || event.key === 'Escape') {\r\n      this.toggleState();\r\n    }\r\n  };\r\n\r\n  handleClick = () => this.setState({ isOpen: false });\r\n\r\n  render() {\r\n    // деструктуризировать стейт и методы\r\n    const { isOpen } = this.state;\r\n    const { ref, keydownHandler, toggleState, handleClick } = this;\r\n    return (\r\n      <Flipper flipKey={isOpen} spring=\"stiff\" stagger>\r\n        {isOpen ? (\r\n          <GadgetWindow\r\n            // переименовано имя пропа для передачи в компонент виджета ссылки на дом-узел\r\n            unitRef={ref}\r\n            isOpen={isOpen}\r\n            toggleState={toggleState}\r\n            keydownHandler={keydownHandler}\r\n            handleClick={handleClick}\r\n            textObj={this.props.text}\r\n          />\r\n        ) : (\r\n          <Flipped flipId=\"wrapper\">\r\n            <div\r\n              ref={ref}\r\n              tabIndex={0}\r\n              role=\"button\"\r\n              className=\"button primary\"\r\n              onClick={toggleState}\r\n              onKeyDown={keydownHandler}\r\n            >\r\n              <Flipped flipId=\"action\">\r\n                <span className=\"action\">Delete</span>\r\n              </Flipped>\r\n            </div>\r\n          </Flipped>\r\n        )}\r\n      </Flipper>\r\n    );\r\n  }\r\n}\r\n","import \"./App.css\";\n\nimport { Component } from \"react\";\nimport { Form } from \"./components/Forms/Form\";\nimport { ProductList } from \"./components/Products/ProductList\";\nimport { DeleteButton } from \"./components/Widgets/RemoveItem\";\n\n// import Counter from \"./components/Counter/Counter\";\n\nclass App extends Component {\n  state = {\n    allProducts: [],\n  };\n\n  componentDidMount() {\n    const localProducts = localStorage.getItem(\"products\");\n    const parsedProducts = JSON.parse(localProducts);\n    this.setState({ allProducts: parsedProducts });\n    console.log(this.state.allProducts);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //если изменилось значение поля стейта prevState.prop,\n    // то будем переписывать локалсторедж\n    if (prevState.allProducts !== this.state.allProducts) {\n      localStorage.setItem(\"products\", JSON.stringify(this.state.allProducts));\n    }\n  }\n  componentWillUnmount() {\n    console.log(\"unmount\");\n  }\n\n  addNewProduct = (product) => {\n    this.setState((prev) => {\n      return { allProducts: [...prev.allProducts, product] };\n    });\n  };\n\n  deleteProduct = (productId) => {\n    console.log(productId);\n    this.setState((prevState) => ({\n      allProducts: prevState.allProducts.filter(\n        (product) => product.id !== productId\n      ),\n    }));\n  };\n\n  render() {\n    console.log(\"Render method\");\n    return (\n      <>\n        <div className=\"App\">\n          <h1>FE 35 Module 2, 3</h1>\n          <Form addNewProduct={this.addNewProduct} />\n          {/* <ProductList\n            products={this.state.allProducts}\n            onDeleteProduct={this.deleteProduct}\n          /> */}\n          <DeleteButton />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n\n// counter: 0,\n// const { counter } = this.state;\n// const { handleDecrement, handleIncrement } = this;\n// handleDecrement = () => {\n// this.setState((prevState) => {\n//   return {\n//     counter: prevState.counter - 1,\n//   };\n// });\n// shorter\n//   this.setState((prevState) => ({\n//     counter: prevState.counter - 1,\n//   }));\n// };\n\n// handleIncrement = () => {\n//   this.setState((prevState) => ({\n//     counter: prevState.counter + 1,\n//   }));\n// };\n\n// {\n//   /* <Counter\n//           handleDecrement={handleDecrement}\n//           handleIncrement={handleIncrement}\n//           value={counter} */\n// }\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}